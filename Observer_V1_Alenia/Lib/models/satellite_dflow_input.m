%% derivative of the flow - Khalil chapter 3
function csi2_dot = satellite_dflow_input(t,csi1,csi2,params)

    omega = csi1(5:7);
    cross_p = cross(omega,params.sat(1).I*omega);

    % dynamic matrix
    dflow = [0 0 0 0 0 0 0 0 0 0 0 0 0;...
             0 0 0 0 0 0 0 0 0 0 0 0 0;...
             0 0 0 0 0 0 0 0 0 0 0 0 0;...
             0 0 0 0 0 0 0 0 0 0 0 0 0;...
             0 0 0 0 0 0 0 cross_p(1)/params.sat(1).I(1,1)^2 0 0 0 0 0;...
             0 0 0 0 0 0 0 0 cross_p(2)/params.sat(1).I(2,2)^2 0 0 0 0;...
             0 0 0 0 0 0 0 0 0 cross_p(3)/params.sat(1).I(3,3)^2 0 0 0;...
             0 0 0 0 0 0 0 0 0 0 0 0 0;...
             0 0 0 0 0 0 0 0 0 0 0 0 0;...
             0 0 0 0 0 0 0 0 0 0 0 0 0;...
             0 0 0 0 0 0 0 0 0 0 0 0 0;...
             0 0 0 0 0 0 0 0 0 0 0 0 0;...
             0 0 0 0 0 0 0 0 0 0 0 0 0;...
            ];
    % evolution
    csi2_dot = dflow*csi2;
end